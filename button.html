<!DOCTYPE html>
<html>
<head>
    <style>
        .shop-icon {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 48px;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 1;
            text-align: center;
        }
        .super-shop-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 48px;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 1;
            text-align: center;
        }
        .shop-text {
            font-size: 24px;
            font-weight: bold;
            margin-top: 5px;
            color: #333;
            font-family: Arial, sans-serif;
        }
        .super-shop-text {
            font-size: 24px;
            font-weight: bold;
            margin-top: 5px;
            color: #ff4081;
            font-family: Arial, sans-serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        .shop-icon:hover, .super-shop-icon:hover {
            transform: scale(1.2);
        }
        .shop-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 2;
            padding: 20px;
            box-sizing: border-box;
        }
        .shop-content {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .close-button {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            padding: 10px 20px;
            background-color: #ff4444;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .shop-item {
            background-color: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .buy-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .buy-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .super-shop-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1a1a2e;
            z-index: 2;
            padding: 20px;
            box-sizing: border-box;
        }
        .super-shop-content {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #162447;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(255,64,129,0.2);
        }
        .super-shop-item {
            background-color: #1f4068;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border: 1px solid #ff4081;
        }
        .super-buy-button {
            padding: 10px 20px;
            background-color: #ff4081;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .super-buy-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(255,64,129,0.5);
        }
        .super-buy-button:disabled {
            background-color: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .super-shop-item h3 {
            color: white;
        }
        .super-shop-item p {
            color: #ccc !important;
        }
        .level-up-button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            font-size: 24px;
            border-radius: 10px;
            border: 3px solid #333;
            background-color: #666;
            color: white;
            cursor: not-allowed;
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        .level-up-button.available {
            background-color: #4CAF50;
            border-color: #45a049;
            cursor: pointer;
            opacity: 1;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
            100% { transform: translateX(-50%) scale(1); }
        }
        .level-indicator {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .potion-shop-icon {
            position: fixed;
            bottom: 20px;
            left: 20px;
            font-size: 48px;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 1;
            text-align: center;
            display: none; /* Hidden by default, shown at level 2 */
        }
        .potion-shop-text {
            font-size: 24px;
            font-weight: bold;
            margin-top: 5px;
            color: #9c27b0;
            font-family: Arial, sans-serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        .potion-shop-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #4a148c;
            z-index: 2;
            padding: 20px;
            box-sizing: border-box;
        }
        .potion-shop-content {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #7b1fa2;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(156,39,176,0.3);
        }
        .potion-shop-item {
            background-color: #6a1b9a;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border: 2px solid #e1bee7;
        }
        .potion-buy-button {
            padding: 10px 20px;
            background-color: #9c27b0;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .potion-buy-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(156,39,176,0.5);
        }
        .potion-buy-button:disabled {
            background-color: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .potion-shop-item h3 {
            color: white;
        }
        .potion-shop-item p {
            color: #e1bee7 !important;
        }
        .victory-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000428, #004e92);
            z-index: 1000;
            color: white;
            text-align: center;
            animation: fadeIn 2s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .victory-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: Arial, sans-serif;
        }
        .victory-title {
            font-size: 72px;
            color: gold;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
            margin-bottom: 30px;
            animation: float 3s infinite;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        .victory-text {
            font-size: 24px;
            color: #fff;
            line-height: 1.6;
            margin: 20px;
        }
        .freedom-button {
            position: fixed;
            top: 50%;
            right: 20px;
            font-size: 48px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: none;
            border: none;
            display: none;
            animation: glow 2s infinite;
        }
        @keyframes glow {
            0% { text-shadow: 0 0 10px gold; }
            50% { text-shadow: 0 0 20px gold, 0 0 30px yellow; }
            100% { text-shadow: 0 0 10px gold; }
        }
        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            animation: rotate 100s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .start-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1001;
        }
        .game-title {
            font-size: 84px;
            color: white;
            text-shadow: 0 0 20px rgba(255,255,255,0.5);
            margin-bottom: 50px;
            font-family: Arial, sans-serif;
            font-weight: bold;
            animation: titleFloat 3s ease-in-out infinite;
        }
        @keyframes titleFloat {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        .play-button {
            padding: 20px 60px;
            font-size: 36px;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            font-family: Arial, sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            background: linear-gradient(45deg, #45a049, #4CAF50);
        }
        .game-content {
            display: none;
        }
        .floating-coins {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }
        .coin {
            position: absolute;
            font-size: 24px;
            animation: floatCoin 6s linear infinite;
            opacity: 0.8;
        }
        @keyframes floatCoin {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        .achievements-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 48px;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 1;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .achievements-text {
            font-size: 24px;
            font-weight: bold;
            margin-top: 5px;
            color: #ffd700;
            font-family: Arial, sans-serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        .achievements-icon:hover {
            transform: scale(1.2);
        }
        .achievements-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #2c3e50;
            z-index: 2;
            padding: 20px;
            box-sizing: border-box;
        }
        .achievements-content {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #34495e;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(255,215,0,0.2);
        }
        .achievement-item {
            background-color: #2c3e50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border: 2px solid #ffd700;
            color: white;
        }
        .achievement-locked {
            opacity: 0.5;
            border: 2px solid #95a5a6;
        }
        .achievement-item h3 {
            margin: 0;
            color: #ffd700;
        }
        .achievement-item p {
            margin: 5px 0;
            color: #ecf0f1;
        }
        .achievement-badge {
            font-size: 36px;
            margin-left: 20px;
        }
        .achievements-notification {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #ff4444;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            font-size: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: bounce 0.5s infinite alternate;
            font-weight: bold;
        }
        @keyframes bounce {
            from { transform: scale(1); }
            to { transform: scale(1.2); }
        }
        .achievement-count {
            position: absolute;
            top: -5px;
            left: -5px;
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            font-size: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
    <script>
        let pointsPerClick = 1;
        let superPointsPerClick = 0;
        let insanePointsPerClick = 0;
        let pointsPerSecond = 0;
        let superPointsPerSecond = 0;
        let insanePointsPerSecond = 0;
        let clickUpgradeCost = 10;
        let superClickCost = 200;
        let insaneClickCost = 10000;
        let insaneAutoCost = 10000;
        let autoUpgradeCost = 10;
        let superAutoCost = 100;
        let clickUpgradeLevel = 0;
        let superClickLevel = 0;
        let insaneClickLevel = 0;
        let insaneAutoLevel = 0;
        let autoUpgradeLevel = 0;
        let superAutoLevel = 0;
        let playerLevel = 1;
        let doublePointsPotionCost = 30000;
        let triplePointsPotionCost = 100000;
        let doublePointsPotionDuration = 0;
        let triplePointsPotionDuration = 0;
        let potionMultiplier = 1;
        let maxLevel = 3;
        let freedomCost = 10000000;
        
        let unlockedAchievements = new Set();
        let newAchievements = new Set();
        
        function addPoints() {
            const pointsElement = document.getElementById('points');
            const totalClickPoints = (pointsPerClick + (superPointsPerClick * 10) + (insanePointsPerClick * 1000)) * potionMultiplier;
            pointsElement.textContent = Number(pointsElement.textContent) + totalClickPoints;
        }
        
        function buyClickUpgrade() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= clickUpgradeCost) {
                pointsElement.textContent = currentPoints - clickUpgradeCost;
                pointsPerClick += 1;
                clickUpgradeLevel++;
                clickUpgradeCost *= 2;
                
                document.getElementById('pointsPerClick').textContent = pointsPerClick + (superPointsPerClick * 10);
                document.getElementById('clickUpgradeBtn').textContent = `Buy for ${clickUpgradeCost} points`;
                document.getElementById('clickUpgradeLevel').textContent = clickUpgradeLevel;
            }
        }

        function buySuperClickUpgrade() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= superClickCost) {
                pointsElement.textContent = currentPoints - superClickCost;
                superPointsPerClick += 1;
                superClickLevel++;
                superClickCost *= 2;
                
                document.getElementById('pointsPerClick').textContent = pointsPerClick + (superPointsPerClick * 10);
                document.getElementById('superClickBtn').textContent = `Buy for ${superClickCost} points`;
                document.getElementById('superClickLevel').textContent = superClickLevel;
            }
        }

        function buyAutoUpgrade() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= autoUpgradeCost) {
                pointsElement.textContent = currentPoints - autoUpgradeCost;
                pointsPerSecond += 1;
                autoUpgradeLevel++;
                autoUpgradeCost *= 2;
                
                document.getElementById('pointsPerSecond').textContent = pointsPerSecond + (superPointsPerSecond * 10);
                document.getElementById('autoUpgradeBtn').textContent = `Buy for ${autoUpgradeCost} points`;
                document.getElementById('autoUpgradeLevel').textContent = autoUpgradeLevel;
            }
        }

        function buySuperAutoUpgrade() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= superAutoCost) {
                pointsElement.textContent = currentPoints - superAutoCost;
                superPointsPerSecond += 1;
                superAutoLevel++;
                superAutoCost *= 2;
                
                document.getElementById('pointsPerSecond').textContent = pointsPerSecond + (superPointsPerSecond * 10);
                document.getElementById('superAutoBtn').textContent = `Buy for ${superAutoCost} points`;
                document.getElementById('superAutoLevel').textContent = superAutoLevel;
            }
        }

        function buyInsaneClickUpgrade() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= insaneClickCost) {
                pointsElement.textContent = currentPoints - insaneClickCost;
                insanePointsPerClick += 1;
                insaneClickLevel++;
                insaneClickCost *= 2;
                
                document.getElementById('pointsPerClick').textContent = pointsPerClick + (superPointsPerClick * 10) + (insanePointsPerClick * 1000);
                document.getElementById('insaneClickBtn').textContent = `Buy for ${insaneClickCost} points`;
                document.getElementById('insaneClickLevel').textContent = insaneClickLevel;
            }
        }

        function buyInsaneAutoUpgrade() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= insaneAutoCost) {
                pointsElement.textContent = currentPoints - insaneAutoCost;
                insanePointsPerSecond += 1;
                insaneAutoLevel++;
                insaneAutoCost *= 2;
                
                document.getElementById('pointsPerSecond').textContent = pointsPerSecond + (superPointsPerSecond * 10) + (insanePointsPerSecond * 2000);
                document.getElementById('insaneAutoBtn').textContent = `Buy for ${insaneAutoCost} points`;
                document.getElementById('insaneAutoLevel').textContent = insaneAutoLevel;
            }
        }

        function updateButtonStates() {
            const currentPoints = Number(document.getElementById('points').textContent);
            document.getElementById('clickUpgradeBtn').disabled = currentPoints < clickUpgradeCost;
            document.getElementById('superClickBtn').disabled = currentPoints < superClickCost;
            document.getElementById('insaneClickBtn').disabled = currentPoints < insaneClickCost;
            document.getElementById('insaneAutoBtn').disabled = currentPoints < insaneAutoCost;
            document.getElementById('autoUpgradeBtn').disabled = currentPoints < autoUpgradeCost;
            document.getElementById('superAutoBtn').disabled = currentPoints < superAutoCost;

            // Update level up button state
            const levelUpButton = document.getElementById('levelUpButton');
            const freedomButton = document.getElementById('freedomButton');
            
            if (playerLevel < maxLevel) {
                const requiredPoints = playerLevel === 1 ? 50000 : 1000000;
                if (currentPoints >= requiredPoints) {
                    levelUpButton.classList.add('available');
                    levelUpButton.textContent = '🌟 LEVEL UP! 🌟';
                } else {
                    levelUpButton.classList.remove('available');
                    levelUpButton.textContent = `${requiredPoints} points needed to level up`;
                }
            } else {
                levelUpButton.style.display = 'none';
                freedomButton.style.display = 'block';
                if (currentPoints >= freedomCost) {
                    freedomButton.style.opacity = '1';
                    freedomButton.style.cursor = 'pointer';
                } else {
                    freedomButton.style.opacity = '0.5';
                    freedomButton.style.cursor = 'not-allowed';
                }
            }
        }

        function levelUp() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            const requiredPoints = playerLevel === 1 ? 50000 : 1000000;
            
            if (currentPoints >= requiredPoints && playerLevel < maxLevel) {
                playerLevel++;
                pointsElement.textContent = currentPoints - requiredPoints;
                document.getElementById('playerLevel').textContent = playerLevel;
                
                if (playerLevel === 2) {
                    document.getElementById('potion-shop').style.display = 'block';
                    alert('Congratulations! You reached Level 2! The Potion Shop is now available!');
                } else if (playerLevel === 3) {
                    document.getElementById('freedomButton').style.display = 'block';
                    alert('Congratulations! You reached Level 3! The path to freedom is now visible...');
                }
            }
        }

        function buyDoublePointsPotion() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= doublePointsPotionCost && doublePointsPotionDuration <= 0) {
                pointsElement.textContent = currentPoints - doublePointsPotionCost;
                doublePointsPotionDuration = 30;
                potionMultiplier = 2;
                updatePotionTimers();
            }
        }

        function buyTriplePointsPotion() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= triplePointsPotionCost && triplePointsPotionDuration <= 0) {
                pointsElement.textContent = currentPoints - triplePointsPotionCost;
                triplePointsPotionDuration = 30;
                potionMultiplier = 3;
                updatePotionTimers();
            }
        }

        function updatePotionTimers() {
            const doubleTimer = document.getElementById('doublePointsTimer');
            const tripleTimer = document.getElementById('triplePointsTimer');
            const doubleBtn = document.getElementById('doublePointsBtn');
            const tripleBtn = document.getElementById('triplePointsBtn');

            if (doublePointsPotionDuration > 0) {
                doubleTimer.textContent = `Active for ${doublePointsPotionDuration}s`;
                doubleBtn.disabled = true;
            } else {
                doubleTimer.textContent = 'Inactive';
                doubleBtn.disabled = false;
            }

            if (triplePointsPotionDuration > 0) {
                tripleTimer.textContent = `Active for ${triplePointsPotionDuration}s`;
                tripleBtn.disabled = true;
            } else {
                tripleTimer.textContent = 'Inactive';
                tripleBtn.disabled = false;
            }
        }

        function achieveFreedom() {
            const pointsElement = document.getElementById('points');
            const currentPoints = Number(pointsElement.textContent);
            
            if (currentPoints >= freedomCost) {
                document.getElementById('victory-screen').style.display = 'block';
                // Create stars effect
                createStars();
            }
        }

        function createStars() {
            const starsContainer = document.querySelector('.stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.style.position = 'absolute';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = '2px';
                star.style.height = '2px';
                star.style.backgroundColor = 'white';
                star.style.borderRadius = '50%';
                starsContainer.appendChild(star);
            }
        }

        // Auto-generate points every second
        setInterval(() => {
            if (pointsPerSecond > 0 || superPointsPerSecond > 0 || insanePointsPerSecond > 0) {
                const pointsElement = document.getElementById('points');
                const totalPointsPerSecond = (pointsPerSecond + (superPointsPerSecond * 10) + (insanePointsPerSecond * 2000)) * potionMultiplier;
                pointsElement.textContent = Number(pointsElement.textContent) + totalPointsPerSecond;
            }
        }, 1000);

        // Check button states every 100ms
        setInterval(updateButtonStates, 100);

        // Add potion timer countdown
        setInterval(() => {
            if (doublePointsPotionDuration > 0) {
                doublePointsPotionDuration--;
                if (doublePointsPotionDuration === 0 && triplePointsPotionDuration === 0) {
                    potionMultiplier = 1;
                }
                updatePotionTimers();
            }
            if (triplePointsPotionDuration > 0) {
                triplePointsPotionDuration--;
                if (triplePointsPotionDuration === 0 && doublePointsPotionDuration === 0) {
                    potionMultiplier = 1;
                }
                updatePotionTimers();
            }
        }, 1000);

        function openShop(shopId) {
            document.getElementById('shop').style.display = 'none';
            document.getElementById('super-shop').style.display = 'none';
            document.getElementById('potion-shop-overlay').style.display = 'none';
            document.getElementById('achievements-overlay').style.display = 'none';
            document.getElementById(shopId).style.display = 'block';
            
            // Clear new achievements notification when opening achievements
            if (shopId === 'achievements-overlay') {
                newAchievements.clear();
                updateAchievementNotification();
            }
        }

        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-content').style.display = 'flex';
        }

        function createFloatingCoins() {
            const coinsContainer = document.querySelector('.floating-coins');
            const coins = ['💰', '🪙', '💎', '✨'];
            
            setInterval(() => {
                const coin = document.createElement('div');
                coin.className = 'coin';
                coin.textContent = coins[Math.floor(Math.random() * coins.length)];
                coin.style.left = Math.random() * 100 + '%';
                coin.style.animationDuration = (6 + Math.random() * 4) + 's';
                coinsContainer.appendChild(coin);
                
                // Remove coin after animation
                setTimeout(() => {
                    coin.remove();
                }, 10000);
            }, 300);
        }

        // Call createFloatingCoins when the page loads
        window.onload = function() {
            createFloatingCoins();
        };

        function checkAchievements() {
            const currentPoints = Number(document.getElementById('points').textContent);
            const achievements = document.getElementsByClassName('achievement-item');
            let hasNewAchievement = false;
            
            // Check each achievement condition
            if (currentPoints >= 1000 && !unlockedAchievements.has('collector')) {
                achievements[0].classList.remove('achievement-locked');
                if (!newAchievements.has('collector')) {
                    newAchievements.add('collector');
                    hasNewAchievement = true;
                }
                unlockedAchievements.add('collector');
            }
            if (currentPoints >= 10000 && !unlockedAchievements.has('master')) {
                achievements[1].classList.remove('achievement-locked');
                if (!newAchievements.has('master')) {
                    newAchievements.add('master');
                    hasNewAchievement = true;
                }
                unlockedAchievements.add('master');
            }
            if (currentPoints >= 100000 && !unlockedAchievements.has('expert')) {
                achievements[2].classList.remove('achievement-locked');
                if (!newAchievements.has('expert')) {
                    newAchievements.add('expert');
                    hasNewAchievement = true;
                }
                unlockedAchievements.add('expert');
            }
            if (currentPoints >= 1000000 && !unlockedAchievements.has('legend')) {
                achievements[3].classList.remove('achievement-locked');
                if (!newAchievements.has('legend')) {
                    newAchievements.add('legend');
                    hasNewAchievement = true;
                }
                unlockedAchievements.add('legend');
            }
            if (playerLevel >= 2 && !unlockedAchievements.has('potion')) {
                achievements[4].classList.remove('achievement-locked');
                if (!newAchievements.has('potion')) {
                    newAchievements.add('potion');
                    hasNewAchievement = true;
                }
                unlockedAchievements.add('potion');
            }
            if (playerLevel >= 3 && !unlockedAchievements.has('freedom')) {
                achievements[5].classList.remove('achievement-locked');
                if (!newAchievements.has('freedom')) {
                    newAchievements.add('freedom');
                    hasNewAchievement = true;
                }
                unlockedAchievements.add('freedom');
            }

            // Update notification and count
            updateAchievementNotification();
            
            // If there's a new achievement, show a notification
            if (hasNewAchievement) {
                showAchievementPopup();
            }
        }

        function updateAchievementNotification() {
            const notification = document.getElementById('achievement-notification');
            const countDisplay = document.getElementById('achievement-count');
            
            if (newAchievements.size > 0) {
                notification.style.display = 'flex';
            } else {
                notification.style.display = 'none';
            }
            
            countDisplay.textContent = unlockedAchievements.size;
        }

        function showAchievementPopup() {
            const popup = document.createElement('div');
            popup.style.position = 'fixed';
            popup.style.bottom = '100px';
            popup.style.right = '20px';
            popup.style.backgroundColor = '#ffd700';
            popup.style.padding = '15px';
            popup.style.borderRadius = '10px';
            popup.style.color = '#000';
            popup.style.zIndex = '1000';
            popup.style.animation = 'slideIn 0.5s ease-out';
            popup.innerHTML = '🏆 New Achievement Unlocked!';
            
            // Add animation keyframes
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(popup);
            
            // Remove popup after 3 seconds
            setTimeout(() => {
                popup.style.animation = 'slideIn 0.5s ease-out reverse';
                setTimeout(() => popup.remove(), 500);
            }, 3000);
        }
    </script>
</head>
<body style="margin:0; height:100vh;">
    <div id="start-screen" class="start-screen">
        <div class="floating-coins"></div>
        <div class="game-title">The Clicker Game</div>
        <button class="play-button" onclick="startGame()">Play</button>
    </div>

    <div id="game-content" class="game-content" style="height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; gap:20px;">
        <div class="level-indicator">Level: <span id="playerLevel">1</span></div>
        <div class="shop-icon" onclick="openShop('shop')">
            🏪
            <div class="shop-text">SHOP</div>
        </div>
        <div class="super-shop-icon" onclick="openShop('super-shop')">
            🏰
            <div class="super-shop-text">SUPER SHOP</div>
        </div>
        <div style="font-size:24px;">Points: <span id="points">0</span></div>
        <div style="font-size:16px; color:#666;">
            Points per click: <span id="pointsPerClick">1</span><br>
            Points per second: <span id="pointsPerSecond">0</span>
        </div>
        <button style="padding:15px 30px; font-size:20px; cursor:pointer;" onclick="addPoints()">
            Click for points!
        </button>

        <div id="shop" class="shop-overlay">
            <button class="close-button" onclick="document.getElementById('shop').style.display = 'none'">Exit Shop</button>
            <div class="shop-content">
                <h1 style="text-align:center; color:#333;">Welcome to the Shop! 🛍️</h1>
                <div class="shop-item">
                    <div>
                        <h3 style="margin:0;">Better Clicks ⚡</h3>
                        <p style="margin:5px 0; color:#666;">Get +1 point per click (Level: <span id="clickUpgradeLevel">0</span>)</p>
                    </div>
                    <button id="clickUpgradeBtn" class="buy-button" onclick="buyClickUpgrade()">
                        Buy for 10 points
                    </button>
                </div>
                <div class="shop-item">
                    <div>
                        <h3 style="margin:0;">Auto Clicker 🤖</h3>
                        <p style="margin:5px 0; color:#666;">Get +1 point per second (Level: <span id="autoUpgradeLevel">0</span>)</p>
                    </div>
                    <button id="autoUpgradeBtn" class="buy-button" onclick="buyAutoUpgrade()">
                        Buy for 10 points
                    </button>
                </div>
                <div class="shop-item">
                    <div>
                        <h3 style="margin:0;">Super Auto ⚡🤖</h3>
                        <p style="margin:5px 0; color:#666;">Get +10 points per second (Level: <span id="superAutoLevel">0</span>)</p>
                    </div>
                    <button id="superAutoBtn" class="buy-button" onclick="buySuperAutoUpgrade()">
                        Buy for 100 points
                    </button>
                </div>
                <div class="shop-item">
                    <div>
                        <h3 style="margin:0;">Super Click 🌟⚡</h3>
                        <p style="margin:5px 0; color:#666;">Get +10 points per click (Level: <span id="superClickLevel">0</span>)</p>
                    </div>
                    <button id="superClickBtn" class="buy-button" onclick="buySuperClickUpgrade()">
                        Buy for 200 points
                    </button>
                </div>
            </div>
        </div>

        <div id="super-shop" class="super-shop-overlay">
            <button class="close-button" onclick="document.getElementById('super-shop').style.display = 'none'">Exit Super Shop</button>
            <div class="super-shop-content">
                <h1 style="text-align:center; color:#fff;">Welcome to the Super Shop! ⚡🌟</h1>
                <div class="super-shop-item" style="background-color: #2a1f68; border: 2px solid gold;">
                    <div>
                        <h3 style="margin:0;">Insane Click 💥🌟</h3>
                        <p style="margin:5px 0;">Get +1000 points per click (Level: <span id="insaneClickLevel">0</span>)</p>
                    </div>
                    <button id="insaneClickBtn" class="super-buy-button" style="background-color: #ff1744;" onclick="buyInsaneClickUpgrade()">
                        Buy for 10000 points
                    </button>
                </div>
                <div class="super-shop-item" style="background-color: #2a1f68; border: 2px solid gold;">
                    <div>
                        <h3 style="margin:0;">Insane Auto 💥🤖</h3>
                        <p style="margin:5px 0;">Get +2000 points per second (Level: <span id="insaneAutoLevel">0</span>)</p>
                    </div>
                    <button id="insaneAutoBtn" class="super-buy-button" style="background-color: #ff1744;" onclick="buyInsaneAutoUpgrade()">
                        Buy for 10000 points
                    </button>
                </div>
            </div>
        </div>

        <button id="levelUpButton" class="level-up-button" onclick="levelUp()">
            50000 points needed to level up
        </button>

        <div class="potion-shop-icon" id="potion-shop" onclick="openShop('potion-shop-overlay')">
            🧪
            <div class="potion-shop-text">POTIONS</div>
        </div>

        <div id="potion-shop-overlay" class="potion-shop-overlay">
            <button class="close-button" onclick="document.getElementById('potion-shop-overlay').style.display = 'none'">Exit Potion Shop</button>
            <div class="potion-shop-content">
                <h1 style="text-align:center; color:#fff;">Welcome to the Potion Shop! 🧪✨</h1>
                <div class="potion-shop-item">
                    <div>
                        <h3 style="margin:0;">Double Points Potion ⚡🧪</h3>
                        <p style="margin:5px 0;">Doubles all points for 30 seconds</p>
                        <p style="margin:5px 0;">Status: <span id="doublePointsTimer">Inactive</span></p>
                    </div>
                    <button id="doublePointsBtn" class="potion-buy-button" onclick="buyDoublePointsPotion()">
                        Buy for 30000 points
                    </button>
                </div>
                <div class="potion-shop-item">
                    <div>
                        <h3 style="margin:0;">Triple Points Potion 🌟🧪</h3>
                        <p style="margin:5px 0;">Triples all points for 30 seconds</p>
                        <p style="margin:5px 0;">Status: <span id="triplePointsTimer">Inactive</span></p>
                    </div>
                    <button id="triplePointsBtn" class="potion-buy-button" onclick="buyTriplePointsPotion()">
                        Buy for 100000 points
                    </button>
                </div>
            </div>
        </div>

        <button id="freedomButton" class="freedom-button" onclick="achieveFreedom()" style="display:none;">
            🦋 Be Free (10000000 points)
        </button>

        <div id="victory-screen" class="victory-overlay">
            <div class="stars"></div>
            <div class="victory-content">
                <div class="victory-title">🎉 CONGRATULATIONS! 🎉</div>
                <div class="victory-text">
                    You have achieved true freedom!<br>
                    Your journey of clicking has come to an end.<br>
                    You are now free from the endless pursuit of points.<br><br>
                    Thank you for playing!<br>
                    ~ The End ~
                </div>
            </div>
        </div>
    </div>

    <div class="achievements-icon" onclick="openShop('achievements-overlay')" style="position: fixed; bottom: 20px; right: 20px;">
        🏆
        <div class="achievements-text">ACHIEVEMENTS</div>
        <div id="achievement-notification" class="achievements-notification" style="display: none;">!</div>
        <div id="achievement-count" class="achievement-count">0</div>
    </div>

    <div id="achievements-overlay" class="achievements-overlay">
        <button class="close-button" onclick="document.getElementById('achievements-overlay').style.display = 'none'">Exit Achievements</button>
        <div class="achievements-content">
            <h1 style="text-align:center; color:#ffd700;">Achievements 🏆</h1>
            
            <div class="achievement-item achievement-locked">
                <div>
                    <h3>Point Collector</h3>
                    <p>Reach 1,000 points</p>
                </div>
                <div class="achievement-badge">🥉</div>
            </div>

            <div class="achievement-item achievement-locked">
                <div>
                    <h3>Point Master</h3>
                    <p>Reach 10,000 points</p>
                </div>
                <div class="achievement-badge">🥈</div>
            </div>

            <div class="achievement-item achievement-locked">
                <div>
                    <h3>Point Expert</h3>
                    <p>Reach 100,000 points</p>
                </div>
                <div class="achievement-badge">🥇</div>
            </div>

            <div class="achievement-item achievement-locked">
                <div>
                    <h3>Point Legend</h3>
                    <p>Reach 1,000,000 points</p>
                </div>
                <div class="achievement-badge">👑</div>
            </div>

            <div class="achievement-item achievement-locked">
                <div>
                    <h3>Potion Master</h3>
                    <p>Reach Level 2 and unlock the Potion Shop</p>
                </div>
                <div class="achievement-badge">🧪</div>
            </div>

            <div class="achievement-item achievement-locked">
                <div>
                    <h3>Path to Freedom</h3>
                    <p>Reach Level 3 and see the path to freedom</p>
                </div>
                <div class="achievement-badge">🦋</div>
            </div>
        </div>
    </div>
</body>
</html> 